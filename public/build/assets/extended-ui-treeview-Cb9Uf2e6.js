$(function(){const e=$(".select2");$(document).ready(function(){$('tr[class^="level-"]').not(".level-0").hide(),$("tr.parent-row").on("click",function(){var t=$(this).data("id"),a=$(this).attr("class").match(/level-(\d+)/)[1],s=parseInt(a)+1;$("tr.level-"+s+'[data-parent-id="'+t+'"]').toggle()})}),e.length&&e.each(function(){var t=$(this);t.wrap('<div class="position-relative"></div>').select2({placeholder:"Select value",dropdownParent:t.parent()})})});$(function(){var e=$("html").hasClass("light-style")?"default":"default-dark",t=$("#jstree-basic");$("#jstree-custom-icons"),$("#jstree-context-menu"),$("#jstree-drag-drop"),$("#jstree-checkbox"),$("#jstree-ajax"),t.length&&t.jstree({core:{themes:{name:e}}})});$("#offCanvasForm");$(".datatables-classifications").DataTable({processing:!0,paging:!1,searching:!0,ordering:!1,info:!1,columns:[{data:"name",title:"Name"},{data:"code",title:"Code"},{data:"status",title:"Status"},{data:"action",title:"Actions"}]});$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});$(document).on("click",".add-new",function(){$("#addAccountClasssificationForm")[0].reset(),$(".select2").val(null).trigger("change"),$("#account_classification_id").val(""),$("#offcanvasAddUserLabel").html("Add Classification"),$("#addAccountClassification").modal("show")});$("#addAccountClassification").on("hidden.bs.modal",function(){$("#addAccountClasssificationForm")[0].reset(),$(".select2").val(null).trigger("change"),$("#account_classification_id").val("")});$(document).on("click",".edit-record",function(){var e=$(this).data("id");$("#addAccountClasssificationForm")[0].reset(),$(".select2").val(null).trigger("change"),$("#offcanvasAddUserLabel").html("Edit Classification"),$.get(`${baseUrl}account-classification/${e}/edit`,function(t){$("#account_classification_id").val(t.id),$("#parent_id").val(t.parent_id).trigger("change"),$("#status").val(t.status).trigger("change"),$("#name").val(t.name),$("#name").focus()}),$("#addAccountClassification").modal("show")});FormValidation.formValidation(document.getElementById("addAccountClasssificationForm"),{fields:{status:{validators:{notEmpty:{message:"Please select status"}}},name:{validators:{notEmpty:{message:"Please enter name"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".col-12"}),submitButton:new FormValidation.plugins.SubmitButton,autoFocus:new FormValidation.plugins.AutoFocus}}).on("core.form.valid",function(){$.ajax({data:$("#addAccountClasssificationForm").serialize(),url:`${baseUrl}account-classification`,type:"POST",success:function(e){$("#addAccountClasssificationForm")[0].reset(),$(".select2").val(null).trigger("change"),$("#addAccountClassification").modal("hide"),Swal.fire({icon:"success",title:`Successfully ${e}!`,text:`Classificaition ${e} Successfully.`,customClass:{confirmButton:"btn btn-success"}}),window.location.reload(!0)},error:function(e){var a;const t=((a=e.responseJSON)==null?void 0:a.error)||"An unexpected error occurred.";Swal.fire({title:"Error",text:t,icon:"error",customClass:{confirmButton:"btn btn-success"}})}})});
